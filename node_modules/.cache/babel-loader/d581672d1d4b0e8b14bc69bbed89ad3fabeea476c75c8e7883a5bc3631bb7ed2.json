{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { addToCart, removeFromCart, toggleEditModal, setCurrentProduct, changeProducts, deleteProduct } from \"./actions\";\nexport const labReducer = createReducer({\n  products: [{\n    id: 1,\n    name: \"Macbook Pro\",\n    price: \"2500\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }, {\n    id: 2,\n    name: \"Asus ROG Gaming\",\n    price: \"1000\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }, {\n    id: 3,\n    name: \"Amazon Kindle\",\n    price: \"150\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }],\n  cart: [],\n  showEditModal: false,\n  currentProduct: {}\n}, builder => builder.addCase(addToCart, (state, action) => ({\n  ...state,\n  cart: [...state.cart, action.payload]\n})).addCase(removeFromCart, (state, action) => ({\n  ...state,\n  cart: state.cart.filter(product => product.id !== action.payload.id)\n})).addCase(toggleEditModal, state => ({\n  ...state,\n  showEditModal: !state.showEditModal\n})).addCase(setCurrentProduct, (state, action) => ({\n  ...state,\n  currentProduct: action.payload\n})).addCase(changeProducts, (state, action) => {\n  console.log(state.products);\n  return {\n    ...state,\n    products: [...state.products.filter(elt => elt.id !== action.payload.id), action.payload].sort((a, b) => {\n      if (a.id > b.id) {\n        return 1;\n      }\n      if (a.id < b.id) {\n        return -1;\n      }\n      return 0;\n    })\n  };\n}).addCase(deleteProduct, (state, action) => ({\n  ...state,\n  products: state.products.filter(product => product.id !== action.payload.id)\n})));","map":{"version":3,"names":["createReducer","addToCart","removeFromCart","toggleEditModal","setCurrentProduct","changeProducts","deleteProduct","labReducer","products","id","name","price","currency","img","cart","showEditModal","currentProduct","builder","addCase","state","action","payload","filter","product","console","log","elt","sort","a","b"],"sources":["C:/study/курсы/react/homework-with-router/src/lab-4/redux/reducer.js"],"sourcesContent":["import { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addToCart,\r\n  removeFromCart,\r\n  toggleEditModal,\r\n  setCurrentProduct,\r\n  changeProducts,\r\n  deleteProduct,\r\n} from \"./actions\";\r\n\r\nexport const labReducer = createReducer(\r\n  {\r\n    products: [\r\n      {\r\n        id: 1,\r\n        name: \"Macbook Pro\",\r\n        price: \"2500\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Asus ROG Gaming\",\r\n        price: \"1000\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"Amazon Kindle\",\r\n        price: \"150\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n    ],\r\n    cart: [],\r\n    showEditModal: false,\r\n    currentProduct: {},\r\n  },\r\n  (builder) =>\r\n    builder\r\n      .addCase(addToCart, (state, action) => ({\r\n        ...state,\r\n        cart: [...state.cart, action.payload],\r\n      }))\r\n      .addCase(removeFromCart, (state, action) => ({\r\n        ...state,\r\n        cart: state.cart.filter((product) => product.id !== action.payload.id),\r\n      }))\r\n      .addCase(toggleEditModal, (state) => ({\r\n        ...state,\r\n        showEditModal: !state.showEditModal,\r\n      }))\r\n      .addCase(setCurrentProduct, (state, action) => ({\r\n        ...state,\r\n        currentProduct: action.payload,\r\n      }))\r\n      .addCase(changeProducts, (state, action) => {\r\n        console.log(state.products);\r\n        return {\r\n          ...state,\r\n          products: [\r\n            ...state.products.filter((elt) => elt.id !== action.payload.id),\r\n            action.payload,\r\n          ].sort((a, b) => {\r\n            if (a.id > b.id) {\r\n              return 1;\r\n            }\r\n            if (a.id < b.id) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          }),\r\n        };\r\n      })\r\n      .addCase(deleteProduct, (state, action) => ({\r\n        ...state,\r\n        products: state.products.filter(\r\n          (product) => product.id !== action.payload.id\r\n        ),\r\n      }))\r\n);\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,kBAAkB;AAChD,SACEC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,iBAAiB,EACjBC,cAAc,EACdC,aAAa,QACR,WAAW;AAElB,OAAO,MAAMC,UAAU,GAAGP,aAAa,CACrC;EACEQ,QAAQ,EAAE,CACR;IACEC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,aAAa;IACnBC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,EACD;IACEJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,iBAAiB;IACvBC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,EACD;IACEJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,eAAe;IACrBC,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,CACF;EACDC,IAAI,EAAE,EAAE;EACRC,aAAa,EAAE,KAAK;EACpBC,cAAc,EAAE,CAAC;AACnB,CAAC,EACAC,OAAO,IACNA,OAAO,CACJC,OAAO,CAACjB,SAAS,EAAE,CAACkB,KAAK,EAAEC,MAAM,MAAM;EACtC,GAAGD,KAAK;EACRL,IAAI,EAAE,CAAC,GAAGK,KAAK,CAACL,IAAI,EAAEM,MAAM,CAACC,OAAO;AACtC,CAAC,CAAC,CAAC,CACFH,OAAO,CAAChB,cAAc,EAAE,CAACiB,KAAK,EAAEC,MAAM,MAAM;EAC3C,GAAGD,KAAK;EACRL,IAAI,EAAEK,KAAK,CAACL,IAAI,CAACQ,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACd,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE;AACvE,CAAC,CAAC,CAAC,CACFS,OAAO,CAACf,eAAe,EAAGgB,KAAK,KAAM;EACpC,GAAGA,KAAK;EACRJ,aAAa,EAAE,CAACI,KAAK,CAACJ;AACxB,CAAC,CAAC,CAAC,CACFG,OAAO,CAACd,iBAAiB,EAAE,CAACe,KAAK,EAAEC,MAAM,MAAM;EAC9C,GAAGD,KAAK;EACRH,cAAc,EAAEI,MAAM,CAACC;AACzB,CAAC,CAAC,CAAC,CACFH,OAAO,CAACb,cAAc,EAAE,CAACc,KAAK,EAAEC,MAAM,KAAK;EAC1CI,OAAO,CAACC,GAAG,CAACN,KAAK,CAACX,QAAQ,CAAC;EAC3B,OAAO;IACL,GAAGW,KAAK;IACRX,QAAQ,EAAE,CACR,GAAGW,KAAK,CAACX,QAAQ,CAACc,MAAM,CAAEI,GAAG,IAAKA,GAAG,CAACjB,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE,CAAC,EAC/DW,MAAM,CAACC,OAAO,CACf,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACf,IAAID,CAAC,CAACnB,EAAE,GAAGoB,CAAC,CAACpB,EAAE,EAAE;QACf,OAAO,CAAC;MACV;MACA,IAAImB,CAAC,CAACnB,EAAE,GAAGoB,CAAC,CAACpB,EAAE,EAAE;QACf,OAAO,CAAC,CAAC;MACX;MACA,OAAO,CAAC;IACV,CAAC;EACH,CAAC;AACH,CAAC,CAAC,CACDS,OAAO,CAACZ,aAAa,EAAE,CAACa,KAAK,EAAEC,MAAM,MAAM;EAC1C,GAAGD,KAAK;EACRX,QAAQ,EAAEW,KAAK,CAACX,QAAQ,CAACc,MAAM,CAC5BC,OAAO,IAAKA,OAAO,CAACd,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE;AAEjD,CAAC,CAAC,CAAC,CACR"},"metadata":{},"sourceType":"module","externalDependencies":[]}