{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { addToCart, removeFromCart, toggleModal, setCurrentProduct, changeProducts, deleteProduct } from \"./actions\";\nexport const labReducer = createReducer({\n  products: [{\n    id: 1,\n    name: \"Macbook Pro\",\n    price: \"2500\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }, {\n    id: 2,\n    name: \"Asus ROG Gaming\",\n    price: \"1000\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }, {\n    id: 3,\n    name: \"Amazon Kindle\",\n    price: \"150\",\n    currency: \"$\",\n    img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\"\n  }],\n  cart: [],\n  showModal: false,\n  currentProduct: {}\n}, builder.addCase(addToCart, (state, action) => ({\n  ...state,\n  cart: [...state.cart, action.payload]\n})).addCase(removeFromCart, (state, action) => ({\n  ...state,\n  cart: state.cart.filter(product => product.id !== action.payload.id)\n})).addCase(toggleModal, state => ({\n  ...state,\n  showModal: !state.showModal\n})).addCase(setCurrentProduct, (state, action) => ({\n  ...state,\n  currentProduct: action.payload\n})).addCase(changeProducts, (state, action) => ({\n  ...state,\n  products: [state.products.filter(elt => elt.id !== action.payload.id), action.payload].sort((a, b) => {\n    if (a.id > b.id) {\n      return 1;\n    }\n    if (a.id < b.id) {\n      return -1;\n    }\n    return 0;\n  })\n})).addCase(deleteProduct, (state, action) => ({\n  ...state,\n  products: state.products.filter(product => product.id !== action.payload.id)\n})));","map":{"version":3,"names":["createReducer","addToCart","removeFromCart","toggleModal","setCurrentProduct","changeProducts","deleteProduct","labReducer","products","id","name","price","currency","img","cart","showModal","currentProduct","builder","addCase","state","action","payload","filter","product","elt","sort","a","b"],"sources":["C:/study/курсы/react/homework-with-router/src/lab-4/redux/reducer.js"],"sourcesContent":["import { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addToCart,\r\n  removeFromCart,\r\n  toggleModal,\r\n  setCurrentProduct,\r\n  changeProducts,\r\n  deleteProduct,\r\n} from \"./actions\";\r\n\r\nexport const labReducer = createReducer(\r\n  {\r\n    products: [\r\n      {\r\n        id: 1,\r\n        name: \"Macbook Pro\",\r\n        price: \"2500\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n      {\r\n        id: 2,\r\n        name: \"Asus ROG Gaming\",\r\n        price: \"1000\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n      {\r\n        id: 3,\r\n        name: \"Amazon Kindle\",\r\n        price: \"150\",\r\n        currency: \"$\",\r\n        img: \"https://i-center.by/images/o/apple-macbook-pro-13-m2-2022-mneh3_1.jpg\",\r\n      },\r\n    ],\r\n    cart: [],\r\n    showModal: false,\r\n    currentProduct: {},\r\n  },\r\n  builder\r\n    .addCase(addToCart, (state, action) => ({\r\n      ...state,\r\n      cart: [...state.cart, action.payload],\r\n    }))\r\n    .addCase(removeFromCart, (state, action) => ({\r\n      ...state,\r\n      cart: state.cart.filter((product) => product.id !== action.payload.id),\r\n    }))\r\n    .addCase(toggleModal, (state) => ({\r\n      ...state,\r\n      showModal: !state.showModal,\r\n    }))\r\n    .addCase(setCurrentProduct, (state, action) => ({\r\n      ...state,\r\n      currentProduct: action.payload,\r\n    }))\r\n    .addCase(changeProducts, (state, action) => ({\r\n      ...state,\r\n      products: [\r\n        state.products.filter((elt) => elt.id !== action.payload.id),\r\n        action.payload,\r\n      ].sort((a, b) => {\r\n        if (a.id > b.id) {\r\n          return 1;\r\n        }\r\n        if (a.id < b.id) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      }),\r\n    }))\r\n    .addCase(deleteProduct, (state, action) => ({\r\n        ...state,\r\n        products: state.products.filter(product => product.id !== action.payload.id)\r\n    }))\r\n);\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,kBAAkB;AAChD,SACEC,SAAS,EACTC,cAAc,EACdC,WAAW,EACXC,iBAAiB,EACjBC,cAAc,EACdC,aAAa,QACR,WAAW;AAElB,OAAO,MAAMC,UAAU,GAAGP,aAAa,CACrC;EACEQ,QAAQ,EAAE,CACR;IACEC,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,aAAa;IACnBC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,EACD;IACEJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,iBAAiB;IACvBC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,EACD;IACEJ,EAAE,EAAE,CAAC;IACLC,IAAI,EAAE,eAAe;IACrBC,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE,GAAG;IACbC,GAAG,EAAE;EACP,CAAC,CACF;EACDC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAE,KAAK;EAChBC,cAAc,EAAE,CAAC;AACnB,CAAC,EACDC,OAAO,CACJC,OAAO,CAACjB,SAAS,EAAE,CAACkB,KAAK,EAAEC,MAAM,MAAM;EACtC,GAAGD,KAAK;EACRL,IAAI,EAAE,CAAC,GAAGK,KAAK,CAACL,IAAI,EAAEM,MAAM,CAACC,OAAO;AACtC,CAAC,CAAC,CAAC,CACFH,OAAO,CAAChB,cAAc,EAAE,CAACiB,KAAK,EAAEC,MAAM,MAAM;EAC3C,GAAGD,KAAK;EACRL,IAAI,EAAEK,KAAK,CAACL,IAAI,CAACQ,MAAM,CAAEC,OAAO,IAAKA,OAAO,CAACd,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE;AACvE,CAAC,CAAC,CAAC,CACFS,OAAO,CAACf,WAAW,EAAGgB,KAAK,KAAM;EAChC,GAAGA,KAAK;EACRJ,SAAS,EAAE,CAACI,KAAK,CAACJ;AACpB,CAAC,CAAC,CAAC,CACFG,OAAO,CAACd,iBAAiB,EAAE,CAACe,KAAK,EAAEC,MAAM,MAAM;EAC9C,GAAGD,KAAK;EACRH,cAAc,EAAEI,MAAM,CAACC;AACzB,CAAC,CAAC,CAAC,CACFH,OAAO,CAACb,cAAc,EAAE,CAACc,KAAK,EAAEC,MAAM,MAAM;EAC3C,GAAGD,KAAK;EACRX,QAAQ,EAAE,CACRW,KAAK,CAACX,QAAQ,CAACc,MAAM,CAAEE,GAAG,IAAKA,GAAG,CAACf,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE,CAAC,EAC5DW,MAAM,CAACC,OAAO,CACf,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACf,IAAID,CAAC,CAACjB,EAAE,GAAGkB,CAAC,CAAClB,EAAE,EAAE;MACf,OAAO,CAAC;IACV;IACA,IAAIiB,CAAC,CAACjB,EAAE,GAAGkB,CAAC,CAAClB,EAAE,EAAE;MACf,OAAO,CAAC,CAAC;IACX;IACA,OAAO,CAAC;EACV,CAAC;AACH,CAAC,CAAC,CAAC,CACFS,OAAO,CAACZ,aAAa,EAAE,CAACa,KAAK,EAAEC,MAAM,MAAM;EACxC,GAAGD,KAAK;EACRX,QAAQ,EAAEW,KAAK,CAACX,QAAQ,CAACc,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACd,EAAE,KAAKW,MAAM,CAACC,OAAO,CAACZ,EAAE;AAC/E,CAAC,CAAC,CAAC,CACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}