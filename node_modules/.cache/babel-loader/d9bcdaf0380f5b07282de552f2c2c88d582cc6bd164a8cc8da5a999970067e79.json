{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\\\u043A\\u0443\\u0440\\u0441\\u044B\\\\react\\\\homework-with-router\\\\src\\\\lab-4\\\\components\\\\modals\\\\edit.js\",\n  _s = $RefreshSig$();\nimport styles from \"../../styles.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { addToCart, removeFromCart, toggleEditModal, setCurrentProduct, changeProducts, deleteProduct } from \"../../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function EditModal(_ref) {\n  _s();\n  let {\n    changeProducts\n  } = _ref;\n  const dispatch = useDispatch();\n  const product = useSelector(state => state.labReducer.currentProduct);\n  const [img, setImg] = useState(product.img);\n  const [price, setPrice] = useState(product.price);\n  const [name, setName] = useState(product.name);\n  const [currency, setCurrency] = useState(product.currency);\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n    return () => document.body.style.overflow = \"unset\";\n  }, []); // блокировка скролла\n\n  const handleInputChange = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    // реагирование на изменение полей и ререндер\n    const {\n      value,\n      name\n    } = target;\n    switch (name) {\n      case \"img\":\n        setImg(value);\n        break;\n      case \"name\":\n        setName(value);\n        break;\n      case \"price\":\n        setPrice(value);\n        break;\n      case \"currency\":\n        setCurrency(value);\n        break;\n    }\n  };\n  const submitChanges = evt => {\n    // подтверждение введённых данных и закрытие модалки\n    evt.preventDefault();\n    dispatch(changeProducts({\n      id: product.id,\n      img,\n      price,\n      name,\n      currency\n    }));\n    dispatch(toggleEditModal());\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modal,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443 \\u043D\\u0430 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"img\",\n          required: true,\n          onChange: handleInputChange,\n          value: img\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          required: true,\n          onChange: handleInputChange,\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"price\",\n          required: true,\n          onChange: handleInputChange,\n          value: price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0432\\u0430\\u043B\\u044E\\u0442\\u0443:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"USD\",\n            selected: true,\n            children: \"USD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"RUB\",\n            children: \"RUB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"BYN\",\n            children: \"BYN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitChanges,\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.background,\n      onClick: () => dispatch(toggleEditModal())\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(EditModal, \"Iaj/SZ1THJ8C8TPeZ3CN+XjXYFs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = EditModal;\nvar _c;\n$RefreshReg$(_c, \"EditModal\");","map":{"version":3,"names":["styles","useEffect","useState","addToCart","removeFromCart","toggleEditModal","setCurrentProduct","changeProducts","deleteProduct","useDispatch","useSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","EditModal","_ref","_s","dispatch","product","state","labReducer","currentProduct","img","setImg","price","setPrice","name","setName","currency","setCurrency","document","body","style","overflow","handleInputChange","_ref2","target","value","submitChanges","evt","preventDefault","id","children","className","modal","fileName","_jsxFileName","lineNumber","columnNumber","type","required","onChange","selected","onClick","background","_c","$RefreshReg$"],"sources":["C:/study/курсы/react/homework-with-router/src/lab-4/components/modals/edit.js"],"sourcesContent":["import styles from \"../../styles.module.css\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  addToCart,\r\n  removeFromCart,\r\n  toggleEditModal,\r\n  setCurrentProduct,\r\n  changeProducts,\r\n  deleteProduct,\r\n} from \"../../redux/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport function EditModal({ changeProducts }) {\r\n  const dispatch = useDispatch();\r\n  const product = useSelector((state) => state.labReducer.currentProduct);\r\n  const [img, setImg] = useState(product.img);\r\n  const [price, setPrice] = useState(product.price);\r\n  const [name, setName] = useState(product.name);\r\n  const [currency, setCurrency] = useState(product.currency);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = \"hidden\";\r\n    return () => (document.body.style.overflow = \"unset\");\r\n  }, []); // блокировка скролла\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    // реагирование на изменение полей и ререндер\r\n    const { value, name } = target;\r\n\r\n    switch (name) {\r\n      case \"img\":\r\n        setImg(value);\r\n        break;\r\n      case \"name\":\r\n        setName(value);\r\n        break;\r\n      case \"price\":\r\n        setPrice(value);\r\n        break;\r\n      case \"currency\":\r\n        setCurrency(value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const submitChanges = (evt) => {\r\n    // подтверждение введённых данных и закрытие модалки\r\n    evt.preventDefault();\r\n    dispatch(changeProducts({ id: product.id, img, price, name, currency }));\r\n\r\n    dispatch(toggleEditModal());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.modal}>\r\n        <form>\r\n          <label>Вставьте ссылку на изображение:</label>\r\n          <br></br>\r\n          <input\r\n            type=\"text\"\r\n            name=\"img\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={img}\r\n          />\r\n          <br />\r\n          <label>Введите название товара:</label>\r\n          <br></br>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={name}\r\n          />\r\n          <br></br>\r\n          <label>Введите стоимость товара:</label>\r\n          <br></br>\r\n          <input\r\n            type=\"text\"\r\n            name=\"price\"\r\n            required\r\n            onChange={handleInputChange}\r\n            value={price}\r\n          />\r\n          <br></br>\r\n          <label>Выберите валюту:</label>\r\n          <br></br>\r\n          <select>\r\n            <option value={\"USD\"} selected>USD</option>\r\n            <option value={\"RUB\"}>RUB</option>\r\n            <option value={\"BYN\"}>BYN</option>\r\n          </select>\r\n          <br></br>\r\n          <button onClick={submitChanges}>Сохранить изменения</button>\r\n        </form>\r\n      </div>\r\n      <div\r\n        className={styles.background}\r\n        onClick={() => dispatch(toggleEditModal())}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,yBAAyB;AAC5C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SACEC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,iBAAiB,EACjBC,cAAc,EACdC,aAAa,QACR,qBAAqB;AAC5B,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEvD,OAAO,SAASC,SAASA,CAAAC,IAAA,EAAqB;EAAAC,EAAA;EAAA,IAApB;IAAEV;EAAe,CAAC,GAAAS,IAAA;EAC1C,MAAME,QAAQ,GAAGT,WAAW,EAAE;EAC9B,MAAMU,OAAO,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,UAAU,CAACC,cAAc,CAAC;EACvE,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGtB,QAAQ,CAACiB,OAAO,CAACI,GAAG,CAAC;EAC3C,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAACiB,OAAO,CAACM,KAAK,CAAC;EACjD,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,GAAG1B,QAAQ,CAACiB,OAAO,CAACQ,IAAI,CAAC;EAC9C,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAACiB,OAAO,CAACU,QAAQ,CAAC;EAE1D5B,SAAS,CAAC,MAAM;IACd8B,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACvC,OAAO,MAAOH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,OAAQ;EACvD,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,MAAMC,iBAAiB,GAAGC,KAAA,IAAgB;IAAA,IAAf;MAAEC;IAAO,CAAC,GAAAD,KAAA;IACnC;IACA,MAAM;MAAEE,KAAK;MAAEX;IAAK,CAAC,GAAGU,MAAM;IAE9B,QAAQV,IAAI;MACV,KAAK,KAAK;QACRH,MAAM,CAACc,KAAK,CAAC;QACb;MACF,KAAK,MAAM;QACTV,OAAO,CAACU,KAAK,CAAC;QACd;MACF,KAAK,OAAO;QACVZ,QAAQ,CAACY,KAAK,CAAC;QACf;MACF,KAAK,UAAU;QACbR,WAAW,CAACQ,KAAK,CAAC;QAClB;IAAM;EAEZ,CAAC;EAED,MAAMC,aAAa,GAAIC,GAAG,IAAK;IAC7B;IACAA,GAAG,CAACC,cAAc,EAAE;IACpBvB,QAAQ,CAACX,cAAc,CAAC;MAAEmC,EAAE,EAAEvB,OAAO,CAACuB,EAAE;MAAEnB,GAAG;MAAEE,KAAK;MAAEE,IAAI;MAAEE;IAAS,CAAC,CAAC,CAAC;IAExEX,QAAQ,CAACb,eAAe,EAAE,CAAC;EAC7B,CAAC;EAED,oBACEO,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBACE/B,OAAA;MAAKgC,SAAS,EAAE5C,MAAM,CAAC6C,KAAM;MAAAF,QAAA,eAC3B/B,OAAA;QAAA+B,QAAA,gBACE/B,OAAA;UAAA+B,QAAA,EAAO;QAA+B;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eAC9CrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXvB,IAAI,EAAC,KAAK;UACVwB,QAAQ;UACRC,QAAQ,EAAEjB,iBAAkB;UAC5BG,KAAK,EAAEf;QAAI;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACX,eACFrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAM,eACNrC,OAAA;UAAA+B,QAAA,EAAO;QAAwB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eACvCrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXvB,IAAI,EAAC,MAAM;UACXwB,QAAQ;UACRC,QAAQ,EAAEjB,iBAAkB;UAC5BG,KAAK,EAAEX;QAAK;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACZ,eACFrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UAAA+B,QAAA,EAAO;QAAyB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eACxCrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UACEsC,IAAI,EAAC,MAAM;UACXvB,IAAI,EAAC,OAAO;UACZwB,QAAQ;UACRC,QAAQ,EAAEjB,iBAAkB;UAC5BG,KAAK,EAAEb;QAAM;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACb,eACFrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UAAA+B,QAAA,EAAO;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eAC/BrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UAAA+B,QAAA,gBACE/B,OAAA;YAAQ0B,KAAK,EAAE,KAAM;YAACe,QAAQ;YAAAV,QAAA,EAAC;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS,eAC3CrC,OAAA;YAAQ0B,KAAK,EAAE,KAAM;YAAAK,QAAA,EAAC;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS,eAClCrC,OAAA;YAAQ0B,KAAK,EAAE,KAAM;YAAAK,QAAA,EAAC;UAAG;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAS;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAC3B,eACTrC,OAAA;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACTrC,OAAA;UAAQ0C,OAAO,EAAEf,aAAc;UAAAI,QAAA,EAAC;QAAmB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACvD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACH,eACNrC,OAAA;MACEgC,SAAS,EAAE5C,MAAM,CAACuD,UAAW;MAC7BD,OAAO,EAAEA,CAAA,KAAMpC,QAAQ,CAACb,eAAe,EAAE;IAAE;MAAAyC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACtC;EAAA,gBACN;AAEP;AAAChC,EAAA,CA5FeF,SAAS;EAAA,QACNN,WAAW,EACZC,WAAW;AAAA;AAAA8C,EAAA,GAFbzC,SAAS;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}